
#BUILD_DIR := /Users/and/Downloads/Verpackungsplan
#SRC_DIRS := /Users/and/workspace/Verpackungsplan/Verpackungsplan
# Find all the C and C++ files we want to compile
# Note the single quotes around the * expressions. The shell will incorrectly expand these otherwise, but we want to send the * directly to the find command.
#SOURCES := $(shell find $(SRC_DIRS) -name '*.cpp' -or -name '*.c' -or -name '*.s')



#files := main.cpp function.cpp
#some_file: $(files)
#echo "Look at this variable: " $(files)
#	touch some_file




# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä C++ (clang –Ω–∞ macOS)
CC = clang++



# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ–ª–∞–≥–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
# -std=c++11: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç C++11
# -g: –≤–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
# -Wall: –≤–∫–ª—é—á–∏—Ç—å –≤—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
#works FLAGS = -std=c++20 -Wall -g
FLAGS = -Wall -Wpedantic -Wextra -fdiagnostics-color=always  -std=c++20 -g


# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
#INCLUDE_DIRS = -I/–ø—É—Ç—å/–∫/–∑–∞–≥–æ–ª–æ–≤–∫–∞–º
#works  INCLUDE_DIRS =  -I.
INCLUDE_DIRS =  -I $(shell pwd)


# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫
#LIBRARY_DIRS = -L/–ø—É—Ç—å/–∫/–≤–∞—à–∏–º/–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º -L/usr/local/lib
# works LIBRARY_DIRS = -L./libxl/lib
LIBRARY_DIRS = -L $(shell pwd)/libxl/lib


# –ò–º–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è –ª–∏–Ω–∫–æ–≤–∫–∏ (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ lib –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
# –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è libmylib.a –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ -lmylib
#LIBRARIES = -lmylib -lother_lib
LIBRARIES = -lxl


# –ò–º–µ–Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, main.cpp, my_class.cpp)
SOURCES = main.cpp functions.cpp settings.cpp statistics.cpp elements_selection.cpp write_Excel_file.cpp


# –§–∞–π–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–º–µ–Ω–∞ –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ –∏–º–µ–Ω –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
# –ù–∞–ø—Ä–∏–º–µ—Ä, main.cpp -> main.o, my_class.cpp -> my_class.o
OBJECTS = $(SOURCES:.cpp=.o)

# –ò–º—è –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω
EXECUTABLE = main




# –ü—Ä–∞–≤–∏–ª–∞ —Å–±–æ—Ä–∫–∏

# –¶–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Å–æ–∑–¥–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª (–ø–µ—Ä–≤–∞—è —Ü–µ–ª—å –≤ —Ñ–∞–π–ª–µ)
# –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ 'make' –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, —ç—Ç–∞ —Ü–µ–ª—å –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
all: $(EXECUTABLE)
	rm -f $(OBJECTS)
	clear
	echo "Clearing...üöø\n"
	${CC} --version
	echo "\n"
	mv -f $(EXECUTABLE) ~/Downloads/Verpackungsplan
	echo "\n"
	echo "Completed...üíØ\n"


# –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–∑ –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
$(EXECUTABLE): $(OBJECTS)
	$(CC) $(FLAGS) $(OBJECTS) $(LIBRARY_DIRS) $(LIBRARIES) -o $(EXECUTABLE)


main.o: main.cpp
	$(CC) $(FLAGS) $(INCLUDE_DIRS) -c $< -o $@

settings.o: settings.cpp
	$(CC) $(FLAGS) $(INCLUDE_DIRS) -c $< -o $@




# –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ .cpp —Ñ–∞–π–ª–æ–≤ –≤ .o —Ñ–∞–π–ª—ã
# –ü—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Ñ–∞–π–ª–∞ source.cpp, —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ñ–∞–π–ª source.o
%.o: %.cpp
	# works $(CC) $(FLAGS) -c $< -o $@ $(INCLUDE_DIRS)
	$(CC) $(FLAGS) -c $< -o $@
	#$(CC) $(FLAGS) -c $< -o $@



# –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ (—É–¥–∞–ª–µ–Ω–∏—è —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)
# –ü—Ä–∏–º–µ—Ä: 'make clean'
clean:
	clear; echo "Clearing...üöø";
	rm -f $(OBJECTS) $(EXECUTABLE)
	
# –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞
# –ü—Ä–∏–º–µ—Ä: 'make run'
run: $(EXECUTABLE)
	./$(EXECUTABLE)








